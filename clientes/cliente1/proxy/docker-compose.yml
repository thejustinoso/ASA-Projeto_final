version: '3.8'

services:
  # O Proxy Reverso do Cliente 1
  proxy-cliente1:
    image: nginx:alpine
    container_name: proxy-reverso-c1
    volumes:
      - ./nginx.conf:/etc/nginx/nginx.conf:ro
    networks:
      - core-net
      - rede_interna_c1
    depends_on:
      - portal-c1
      - hotsite-c1
      - sign-c1

  # Servi√ßos Internos do Cliente 1
  portal-c1:
    image: nginx:alpine
    container_name: portal-c1
    volumes:
      - ../portal:/usr/share/nginx/html:ro  # Mapeia sua pasta portal
    networks:
      - rede_interna_c1

  hotsite-c1:
    image: nginx:alpine
    container_name: hotsite-c1
    volumes:
      - ../hotsite:/usr/share/nginx/html:ro # Mapeia sua pasta hotsite
    networks:
      - rede_interna_c1

  sign-c1:
    image: nginx:alpine
    container_name: sign-c1
    volumes:
      - ../sign:/usr/share/nginx/html:ro    # Mapeia sua pasta sign
    networks:
      - rede_interna_c1

networks:
  core-net:
    external: true
  rede_interna_c1:
    driver: bridge